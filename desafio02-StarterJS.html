<!DOCTYPE html>
<html lang="eng">
<head>
  <meta charset="UTF-8">
  <title>Desafio 02 StarterJS - Modelando a DOM</title>
</head>

  <body>
    <button id="new">QUADRADO</button>
    <div id="squares"></div>
      <ul></ul>
      <input type="text" name="nome">
      <button onClick="adicionar()">Adicionar</button>
    <script>
      /*
      * Parte 1
      * Crie um botão que ao ser clicado cria um novo elemento em tela com a 
      * forma de um quadrado vermelho com 100px de altura e largura. Sempre que 
      * o botão for clicado um novo quadrado deve aparecer na tela.
      *
      * */
      
      /*
      * Parte 2
      * Utilizando o resultado do primeiro desafio, toda vez que o usuário passar o mouse por cima de
      * algum quadrado troque sua cor para uma cor aleatória gerada pela função abaixo
      *
      * */

      /*
      * Parte 3
      * Apartir dos vetores 
      * var nomes = ["Diego", "Gabriel", "Lucas"]
      *
      * Preencha uma lista (<ul>) no HTML com os itens da seguinte forma:
      * 
      * Diego
      * Gabriel
      * Lucas
      *
      * */

      /*
      * Parte 4
      * Seguindo o resultado do exercicio anterior adicione um input em tela
      * e um botão como a seguir
      *
      * <input type="text" name="nome">
      * <button onClick="adicionar()">Adicionar</button>
      * 
      * Ao clicar no botão, a função adicionar() deve ser disparada adicionando 
      * um novo item a lista de nomes baseado no nome preenchido no input e 
      * renderizando o novo item em tela juntos aos demais itens anteriores. 
      *
      * Além disso, o conteúdo do input deve ser apagado após o clique.
      *
      * */


      var btnElement = document.getElementById('new');
      var squaresElement = document.getElementById('squares');
      var nomes = ["Diego", "Gabriel", "Lucas"];
      var listaElement = document.querySelector('ul');
      var inputElement = document.querySelector('input');

      btnElement.onclick = function(){
          var squares = document.createElement('div');
          squares.style.width = '100px';
          squares.style.height = '100px';
          squares.style.backgroundColor = '#F00';

          squares.onmouseover = function(){
            squares.style.backgroundColor = getRandomColor();
          }

          squaresElement.appendChild(squares);
      };

      function getRandomColor() {
        var letters = "0123456789ABCDEF";
        var color = "#";
          for (var i = 0; i < 6; i++) {
            color += letters[Math.floor(Math.random() * 16)];
          }
        return color;
      }

      function addItem(texto){
        var liElement = document.createElement('li');
        var textElement = document.createTextNode(texto);

        liElement.appendChild(textElement);
        listaElement.appendChild(liElement);
      }

      function adicionar(){
        addItem(inputElement.value);
        inputElement.value = ""; 
      }

      for(nome of nomes){
        addItem(nome);
      }      
      
    </script>

  </body>

</html>